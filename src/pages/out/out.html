<!--
  Generated template for the OutPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>常规出库</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <form (submit)="Scan()">
    <ion-list-header>
        <ion-label color="primary">扫描</ion-label>
        <ion-input type="text" [(ngModel)]="ScanNo" name="scan" placeholder="{{ScanPlaceHolder}}"></ion-input>
    </ion-list-header>
  </form>
  <ion-list>
    <ion-list-header *ngIf="ScanFlag>0">
        <ion-label>单号：{{Sheet.sheet_no}}</ion-label>
        <ion-label>工厂：{{Sheet.plant}}</ion-label>
        <ion-label>车间：{{Sheet.supplier_id}}</ion-label>
    </ion-list-header>
    <ion-item *ngFor="let oitem of SheetDetail;let i=index" [attr.data-index]="i">
      <div item-left>
        <ion-label>{{oitem.part_no}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{oitem.part_name}}</ion-label>
        <ion-label color="primary" (click)="SwitchSupplier(oitem.id)">供应商：{{oitem.suplier_name}}</ion-label>
        <ion-label>
          需求箱数：{{oitem.required_pack_count}}&nbsp;&nbsp;&nbsp;&nbsp;需求件数：{{oitem.required_part_count}}&nbsp;&nbsp;&nbsp;&nbsp;包装数：{{oitem.pack_stand_qty}}
        </ion-label>
      </div>
      <div item-right>
        <ion-label (click)="UnStandModify(oitem.id)" class="received" [ngStyle]="{'background-color':oitem.received_part_count > oitem.required_part_count?'red':oitem.received_part_count===oitem.required_part_count?'green':oitem.received_part_count===0?'white':'yellow'}" color="primary">
          <h2>箱数：{{oitem.received_pack_count}}</h2>
          <h2>件数：{{oitem.received_part_count}}</h2>
        </ion-label>
      </div>
    </ion-item>
  </ion-list>
  <button ion-button full (click)="OutStock()" *ngIf="ScanFlag>0">出库</button>
</ion-content>
